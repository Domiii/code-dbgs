/*! For license information please see 07fa614a.b85f52be.js.LICENSE.txt */
(self.webpackChunkdbux_docs=self.webpackChunkdbux_docs||[]).push([[317],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return u},kt:function(){return p}});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var d=a.createContext({}),s=function(e){var t=a.useContext(d),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=s(e.components);return a.createElement(d.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,d=e.parentName,u=r(e,["components","mdxType","originalType","parentName"]),m=s(n),p=i,k=m["".concat(d,".").concat(p)]||m[p]||c[p]||o;return n?a.createElement(k,l(l({ref:t},u),{},{components:n})):a.createElement(k,l({ref:t},u))}));function p(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,l=new Array(o);l[0]=m;var r={};for(var d in t)hasOwnProperty.call(t,d)&&(r[d]=t[d]);r.originalType=e,r.mdxType="string"==typeof e?e:i,l[1]=r;for(var s=2;s<o;s++)l[s]=n[s];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},5002:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var a=n(7462),i=n(3366),o=n(7294),l=n(3616),r=["toc","className","linkClassName","linkActiveClassName","minHeadingLevel","maxHeadingLevel"];function d(e){var t=e.toc,n=e.className,a=e.linkClassName,i=e.isChild;return t.length?o.createElement("ul",{className:i?void 0:n},t.map((function(e){return o.createElement("li",{key:e.id},o.createElement("a",{href:"#"+e.id,className:null!=a?a:void 0,dangerouslySetInnerHTML:{__html:e.value}}),o.createElement(d,{isChild:!0,toc:e.children,className:n,linkClassName:a}))}))):null}function s(e){var t=e.toc,n=e.className,s=void 0===n?"table-of-contents table-of-contents__left-border":n,u=e.linkClassName,c=void 0===u?"table-of-contents__link":u,m=e.linkActiveClassName,p=void 0===m?void 0:m,k=e.minHeadingLevel,h=e.maxHeadingLevel,N=(0,i.Z)(e,r),g=(0,l.LU)(),b=null!=k?k:g.tableOfContents.minHeadingLevel,f=null!=h?h:g.tableOfContents.maxHeadingLevel,v=(0,l.DA)({toc:t,minHeadingLevel:b,maxHeadingLevel:f}),y=(0,o.useMemo)((function(){if(c&&p)return{linkClassName:c,linkActiveClassName:p,minHeadingLevel:b,maxHeadingLevel:f}}),[c,p,b,f]);return(0,l.Si)(y),o.createElement(d,(0,a.Z)({toc:v,className:s,linkClassName:c},N))}},633:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}});var a=n(7462),i=n(3366),o=n(7294),l=n(4184),r=n.n(l),d=n(7037),s=n.n(d),u=n(5350),c=n(8767);var m=["src","title","zoomable","darkLight","screen","concept","className","maxWidth","mb","style"];function p(e){return e.startsWith("/")||e.includes("://")}function k(e){var t=e.src,n=e.title,l=e.zoomable,d=e.darkLight,k=e.screen,h=e.concept,N=e.className,g=e.maxWidth,b=e.mb,f=e.style,v=(0,i.Z)(e,m);h&&(t.startsWith("concept")||p(t)||(t="concepts/"+t)),k&&(t.startsWith("screen")||p(t)||(t="screens/"+t));var y=h||k||l;y&&void 0===l&&(l=!0);var C=function(e){var t=e.src,n=e.darkLight,a=(0,u.Z)().isDarkTheme;return(0,c.Z)()+(n?a?"dark/":"light/":"")+t}({src:t,darkLight:d}),w=n=n||t;N=r()(N,{"border-screen":y,"img-crisp":y,zoomable:l});var x=o.createElement("img",(0,a.Z)({className:N,style:f,src:C,alt:w,title:n},v));if(g){g=s()(g)?g:g+"px",b=void 0===b?"mb-2":b;var O=r()(b),D={display:"inline-block",maxWidth:g,lineHeight:0};x=o.createElement("div",{className:O,style:D},x)}return x}},8640:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var a=n(7294),i="tableOfContentsInline_0DDH",o=n(5002);var l=function(e){var t=e.toc,n=e.minHeadingLevel,l=e.maxHeadingLevel;return a.createElement("div",{className:i},a.createElement(o.Z,{toc:t,minHeadingLevel:n,maxHeadingLevel:l,className:"table-of-contents",linkClassName:null}))},r={display:"none"};function d(e){var t=e.toc;return a.createElement("div",{style:r},a.createElement(l,{toc:t}))}},8767:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var a=n(2263);function i(){return(0,a.Z)().siteConfig.baseUrl}},1244:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return u},metadata:function(){return c},toc:function(){return m},default:function(){return k}});var a=n(7462),i=n(3366),o=(n(7294),n(3905)),l=n(633),r=n(8640),d=["components"],s={},u="Contributing",c={unversionedId:"advanced/contributing",id:"advanced/contributing",title:"Contributing",description:"Code of Conduct",source:"@site/content/advanced/03-contributing.mdx",sourceDirName:"advanced",slug:"/advanced/contributing",permalink:"/dbux/advanced/contributing",editUrl:"https://github.com/Domiii/dbux/blob/master/docs/content/advanced/03-contributing.mdx",tags:[],version:"current",sidebarPosition:3,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Known Limitations and Future Work",permalink:"/dbux/advanced/future-work"},next:{title:"Terminology",permalink:"/dbux/advanced/terminology"}},m=[{value:"Code of Conduct",id:"code-of-conduct",children:[],level:2},{value:"Development + Contributing: Getting Started",id:"development--contributing-getting-started",children:[{value:"Prerequisites",id:"prerequisites",children:[],level:3},{value:"Setup",id:"setup",children:[],level:3},{value:"Start Development",id:"start-development",children:[],level:3}],level:2},{value:"Contribute to Docs",id:"contribute-to-docs",children:[{value:"Build + Deploy docs",id:"build--deploy-docs",children:[],level:3},{value:"Documentation: Related Issues",id:"documentation-related-issues",children:[],level:3}],level:2},{value:"Joining the Community",id:"joining-the-community",children:[],level:2},{value:"Use Dbux Dev Build on Local Projects",id:"use-dbux-dev-build-on-local-projects",children:[{value:"More References",id:"more-references",children:[],level:4}],level:2},{value:"Test the Production Build",id:"test-the-production-build",children:[],level:2},{value:"Deployment",id:"deployment",children:[],level:2},{value:"More Unsorted Notes",id:"more-unsorted-notes",children:[{value:"Adding dependencies",id:"adding-dependencies",children:[],level:3},{value:"VSCode extension development",id:"vscode-extension-development",children:[{value:"Adding a command/button",id:"adding-a-commandbutton",children:[],level:4}],level:3}],level:2},{value:"How to use Dbux on Dbux?",id:"how-to-use-dbux-on-dbux",children:[],level:2}],p={toc:m};function k(e){var t=e.components,n=(0,i.Z)(e,d);return(0,o.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"contributing"},"Contributing"),(0,o.kt)(r.Z,{toc:m,mdxType:"TOC"}),(0,o.kt)("h2",{id:"code-of-conduct"},"Code of Conduct"),(0,o.kt)("p",null,"Be good\u2122\ufe0f."),(0,o.kt)("p",null,"TODO: more info"),(0,o.kt)("h2",{id:"development--contributing-getting-started"},"Development + Contributing: Getting Started"),(0,o.kt)("h3",{id:"prerequisites"},"Prerequisites"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"bash"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"On Windows, you can get this via cygwin or ",(0,o.kt)("inlineCode",{parentName:"li"},"git")," (which also installs cygwin)"))),(0,o.kt)("li",{parentName:"ul"},"Recommended: ",(0,o.kt)("a",{parentName:"li",href:"https://docs.volta.sh/guide/getting-started"},"Volta"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Please consider the ",(0,o.kt)("a",{parentName:"li",href:"/dbux/installation#system-requirements"},"installation chapter")," for pros, cons and installation instructions."))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"yarn@1")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"Node@16"))),(0,o.kt)("h3",{id:"setup"},"Setup"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"git clone https://github.com/Domiii/dbux.git\ncd dbux\ncode dbux.code-workspace # open project in vscode\nyarn install && yarn i # install dependencies\n")),(0,o.kt)("p",null,"Finally, you might want to enable Dbux auto start by default:"),(0,o.kt)(l.Z,{screen:!0,src:"dbux-auto-start-workspace-setting.png",mdxType:"Img"}),(0,o.kt)("p",null,"If dependencies bug out, sometimes running the (very aggressive) clean-up command can help: ",(0,o.kt)("inlineCode",{parentName:"p"},"npm run dbux-reinstall"),".\nOf course, we don't recommend this, unless absolutely necessary. It will delete your ",(0,o.kt)("inlineCode",{parentName:"p"},"yarn.lock")," file, which can lead to installation of package versions that have breaking changes in them, potentially introducing even more problems."),(0,o.kt)("h3",{id:"start-development"},"Start Development"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Open project + start build+watch mode",(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"code dbux.code-workspace # open project in VSCode\nyarn start # start webpack development build of all projects in watch mode\n"))),(0,o.kt)("li",{parentName:"ol"},"Go to your VSCode debug tab, select the ",(0,o.kt)("inlineCode",{parentName:"li"},"dbux-code")," configuration and press F5. This runs the ",(0,o.kt)("a",{parentName:"li",href:"/dbux/tools-and-configuration/dbux-code"},"Dbux VSCode Extension")," in debug mode."),(0,o.kt)("li",{parentName:"ol"},"Inside the new window, you can then use ",(0,o.kt)("a",{parentName:"li",href:"/dbux/tools-and-configuration/dbux-code"},"Dbux VSCode Extension")," as usual (but in debug mode).")),(0,o.kt)("h2",{id:"contribute-to-docs"},"Contribute to Docs"),(0,o.kt)("p",null,"We use ",(0,o.kt)("inlineCode",{parentName:"p"},"docusaurus")," for documentation."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Follow the ",(0,o.kt)("a",{parentName:"li",href:"#setup"},"Setup")," steps."),(0,o.kt)("li",{parentName:"ol"},"Run ",(0,o.kt)("inlineCode",{parentName:"li"},"code dbux.code-workspace")," to open the Dbux project in VSCode"),(0,o.kt)("li",{parentName:"ol"},"You can find all docs in the ",(0,o.kt)("a",{parentName:"li",href:"https://github.com/Domiii/dbux/blob/master/docs_site/content"},(0,o.kt)("inlineCode",{parentName:"a"},"docs_site"))," folder. The ",(0,o.kt)("inlineCode",{parentName:"li"},"docs_site/content")," folder houses most of the content source."),(0,o.kt)("li",{parentName:"ol"},"Run ",(0,o.kt)("inlineCode",{parentName:"li"},"yarn docs")," to build + serve the docs locally (in ",(0,o.kt)("inlineCode",{parentName:"li"},"watch")," mode), and test your changes."),(0,o.kt)("li",{parentName:"ol"},"Once you are done: run ",(0,o.kt)("inlineCode",{parentName:"li"},"yarn docs:build")," (which does a few more pre-deployment checks)"),(0,o.kt)("li",{parentName:"ol"},"If ",(0,o.kt)("inlineCode",{parentName:"li"},"yarn build")," succeeds, feel free to send out a PR.")),(0,o.kt)("h3",{id:"build--deploy-docs"},"Build + Deploy docs"),(0,o.kt)("p",null,"Inside of the ",(0,o.kt)("inlineCode",{parentName:"p"},"docs_site")," folder:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"yarn build"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"-> Make sure, there are no build problems."))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"yarn serve"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"This serves the production build locally to allow you manually test and check whether the documentation site works correctly."),(0,o.kt)("li",{parentName:"ul"},"You especially want to do this when introducing new complex logic or components."))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"yarn deploy"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Make the changes go live.")))),(0,o.kt)("h3",{id:"documentation-related-issues"},"Documentation: Related Issues"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/Domiii/dbux/labels/documentation"},"https://github.com/Domiii/dbux/labels/documentation"),".")),(0,o.kt)("h2",{id:"joining-the-community"},"Joining the Community"),(0,o.kt)("p",null,"While you can certainly try to get started on your own, you probably make your life a lot easier by ",(0,o.kt)("a",{parentName:"p",href:"https://discord.gg/8kR2a7h"},"join the dev team on Discord")," first :)"),(0,o.kt)("h2",{id:"use-dbux-dev-build-on-local-projects"},"Use Dbux Dev Build on Local Projects"),(0,o.kt)("p",null,"When you want to debug a local project with a local Dbux dev build, we recommend using ",(0,o.kt)("inlineCode",{parentName:"p"},"yalc"),":"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Make sure you have compatible ",(0,o.kt)("inlineCode",{parentName:"li"},"npm")," and/or ",(0,o.kt)("inlineCode",{parentName:"li"},"yarn")," versions, as explained ",(0,o.kt)("a",{parentName:"li",href:"https://github.com/wclr/yalc/issues/187"},"here"),"."),(0,o.kt)("li",{parentName:"ul"},"In your local Dbux folder:",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"run ",(0,o.kt)("inlineCode",{parentName:"li"},"yarn yalc")))),(0,o.kt)("li",{parentName:"ul"},"Inside your target project folder:",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"yalc add --dev @dbux/babel-plugin @dbux/runtime @dbux/cli @dbux/common @dbux/common-node @dbux/babel-register-fork")),(0,o.kt)("li",{parentName:"ul"},"Add to .gitignore:",(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre"},".yalc\nyalc.lock\n"))))),(0,o.kt)("li",{parentName:"ul"},"NOTE: Sometimes (but rarely), the build cache needs to be flushed.",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"E.g. when using ",(0,o.kt)("inlineCode",{parentName:"li"},"webpack")," and ",(0,o.kt)("inlineCode",{parentName:"li"},"babel"),": ",(0,o.kt)("inlineCode",{parentName:"li"},"rm -rf ./node_modules/.cache/babel-loader"))))),(0,o.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"This will not work (smoothly) with ",(0,o.kt)("inlineCode",{parentName:"p"},"yarn@1"),"."),(0,o.kt)("p",{parentName:"div"},"While generally linking the local dev build using ",(0,o.kt)("inlineCode",{parentName:"p"},"yalc")," works, it will not be able to install dependencies, and in general, ",(0,o.kt)("inlineCode",{parentName:"p"},"yarn add")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"yarn install")," will always fail from now on, if you use ",(0,o.kt)("inlineCode",{parentName:"p"},"yarn@1"),". ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/yarnpkg/yarn/issues/2611"},"This is a well-known bug that was fixed for ",(0,o.kt)("inlineCode",{parentName:"a"},"yarn@>=2")),"."),(0,o.kt)("p",{parentName:"div"},"Hackfix workaround for ",(0,o.kt)("inlineCode",{parentName:"p"},"yarn@1"),":"),(0,o.kt)("ul",{parentName:"div"},(0,o.kt)("li",{parentName:"ul"},"After ",(0,o.kt)("inlineCode",{parentName:"li"},"yalc add..."),":",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"(If you use ",(0,o.kt)("inlineCode",{parentName:"li"},"yarn workspaces"),": remove linkage to other workspace packages.)"),(0,o.kt)("li",{parentName:"ul"},"Use ",(0,o.kt)("inlineCode",{parentName:"li"},"npm install")," once, then remove ",(0,o.kt)("inlineCode",{parentName:"li"},"package-lock.json"),"."),(0,o.kt)("li",{parentName:"ul"},"(Bring back other workspace packages if needed.)"),(0,o.kt)("li",{parentName:"ul"},"If you use webpack or other bundlers, make sure, ",(0,o.kt)("inlineCode",{parentName:"li"},".yalc")," folder is in your ",(0,o.kt)("inlineCode",{parentName:"li"},"resolve.modules")," (or other bundler's equivalent)."))),(0,o.kt)("li",{parentName:"ul"},"Whenever you need to change things with ",(0,o.kt)("inlineCode",{parentName:"li"},"yarn add/remove"),", first remove ",(0,o.kt)("inlineCode",{parentName:"li"},"yalc")," packages, then bring them back:",(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"yalc remove --all\nyalc add ...\n")))),(0,o.kt)("p",{parentName:"div"},"PROBLEM: (one of many) since ",(0,o.kt)("inlineCode",{parentName:"p"},"npm install")," ignores your ",(0,o.kt)("inlineCode",{parentName:"p"},"yarn.lock"),", and also might undo (some) deduplication, your dependencies might get real messy real fast. That is especially due to libraries often not following the convention of only introducing breaking changes with major releases. Meaning that all libraries that were added with (usual default of) ",(0,o.kt)("a",{parentName:"p",href:"https://www.google.com/search?q=semver+caret+meaning"},"caret (^)")," can potentially break due to this."))),(0,o.kt)("h4",{id:"more-references"},"More References"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/Domiii/dbux/issues/661"},"Issue: Propose a local development workflow"),".")),(0,o.kt)("h2",{id:"test-the-production-build"},"Test the Production Build"),(0,o.kt)("p",null,"Before submitting a PR, make sure to test it in ",(0,o.kt)("inlineCode",{parentName:"p"},"prod")," as well. This is important, especially if your changes are related to the parts of Dbux that juggle projects, file paths and/or system dependencies:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Start production build (in ",(0,o.kt)("inlineCode",{parentName:"li"},"watch")," mode): ",(0,o.kt)("inlineCode",{parentName:"li"},"yarn start:prod"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"IMPORTANT: Make sure only one build/watch mode is running at the same time."))),(0,o.kt)("li",{parentName:"ol"},"Install (and re-install) local build locally: ",(0,o.kt)("inlineCode",{parentName:"li"},"yarn code:install"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Uninstall: ",(0,o.kt)("inlineCode",{parentName:"li"},"yarn code:uninstall")))),(0,o.kt)("li",{parentName:"ol"},"Incremental update: ",(0,o.kt)("inlineCode",{parentName:"li"},"yarn code:copy"),", then ",(0,o.kt)("inlineCode",{parentName:"li"},"Reload Window")," (VSCode command)",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"NOTE: This copies all built ",(0,o.kt)("inlineCode",{parentName:"li"},".js")," files to the installed extension folder."),(0,o.kt)("li",{parentName:"ul"},"NOTE2: This is to save yourself time. You don't want to re-install the extension every time you make a change.")))),(0,o.kt)("h2",{id:"deployment"},"Deployment"),(0,o.kt)("p",null,"If you have deployment privileges:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Build production build and publish to ",(0,o.kt)("inlineCode",{parentName:"li"},"npm")," and ",(0,o.kt)("inlineCode",{parentName:"li"},"VSCode")," Marketplace: ",(0,o.kt)("inlineCode",{parentName:"li"},"yarn marketplace"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"IMPORTANT: again, make sure, only one build/watch mode is running at the same time."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"yarn pub")," if you only want to publish to ",(0,o.kt)("inlineCode",{parentName:"li"},"npm")," (not the marketplace)")))),(0,o.kt)("h2",{id:"more-unsorted-notes"},"More Unsorted Notes"),(0,o.kt)("h3",{id:"adding-dependencies"},"Adding dependencies"),(0,o.kt)("p",null,"We use Lerna with Yarn workspaces, so if you need to install a new package, instead of ",(0,o.kt)("inlineCode",{parentName:"p"},"npm install pkg"),", we do the following:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Adding ",(0,o.kt)("inlineCode",{parentName:"li"},"pkg")," to ",(0,o.kt)("inlineCode",{parentName:"li"},"@dbux/something")," (where ",(0,o.kt)("inlineCode",{parentName:"li"},"dbux-something")," is the folder containing the package ",(0,o.kt)("inlineCode",{parentName:"li"},"@dbux/something"),"):\n",(0,o.kt)("inlineCode",{parentName:"li"},"npx lerna add --scope=@dbux/something pkg"),(0,o.kt)("inlineCode",{parentName:"li"},"npx lerna add --scope=@dbux/common pkg"),(0,o.kt)("inlineCode",{parentName:"li"},"npx lerna add --scope=dbux-code pkg      # note: dbux-code's package name has a dash (-), not a slash (/)!")),(0,o.kt)("li",{parentName:"ul"},"Adding ",(0,o.kt)("inlineCode",{parentName:"li"},"pkg")," to the root's ",(0,o.kt)("inlineCode",{parentName:"li"},"devDependencies"),":\n",(0,o.kt)("inlineCode",{parentName:"li"},"yarn add --dev -W pkg"))),(0,o.kt)("h3",{id:"vscode-extension-development"},"VSCode extension development"),(0,o.kt)("p",null,"This section holds a few basics of VSCode extension development."),(0,o.kt)("h4",{id:"adding-a-commandbutton"},"Adding a command/button"),(0,o.kt)("p",null,"NOTE: VSCode's buttons are representation of commands, you must add a command before adding a button."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Register command in ",(0,o.kt)("inlineCode",{parentName:"p"},"contributes.commands")," section of package.json as following(title and icon are optional):"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "commands": [\n    {\n      "command": "<COMMAND_ID>",\n      "title": "<TITLE>",\n      "icon": {\n        "light": "<PATH_TO_YOUR_ICON>",\n        "dark": "<PATH_TO_YOUR_ICON>"\n      }\n    }\n  ]\n}\n'))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Bind the command with a callback function in js file:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-js"},"import { registerCommand } from './commands/commandUtil';\nregisterCommand(context, '<COMMAND_ID>', callback);\n"))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Depends on whether the command should be shown in command palette, add the following to ",(0,o.kt)("inlineCode",{parentName:"p"},"contributes.menus.commandPalette")," section in package.json:\nShow command in command palette\n(use ",(0,o.kt)("inlineCode",{parentName:"p"},'"when": "!dbux.context.activated"')," instead if you want show it before dbux has been activated)"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "commantPalette": [\n    {\n      "command": "<COMMAND_ID>",\n      "when": "dbux.context.activated"\n    }\n  ]\n}\n')),(0,o.kt)("p",{parentName:"li"},"Hide command from command palette"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "commantPalette": [\n    {\n      "command": "<COMMAND_ID>",\n      "when": "false"\n    }\n  ]\n}\n'))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Finally, configure where the button should be shown (skip this step if you don't want a button):\nTo show button in..."),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"navigation bar(upper-right corner), add the following to ",(0,o.kt)("inlineCode",{parentName:"li"},"contributes.menus.editor/title"))),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "editor/title": [\n    {\n      "command": "<COMMAND_ID>",\n      "when": "dbux.context.activated",\n      "group": "navigation"\n    } \n  ] \n}\n')),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"tree view title, add the following to ",(0,o.kt)("inlineCode",{parentName:"li"},"contributes.menus.view/title"),"\n( ",(0,o.kt)("inlineCode",{parentName:"li"},"<VIEW_ID>")," is defined in ",(0,o.kt)("inlineCode",{parentName:"li"},"contributes.views.dbuxViewContainer")," section)")),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "view/title": [\n    {\n      "command": "<COMMAND_ID>",\n      "when": "view == <VIEW_ID>",\n      "group": "navigation"\n    } \n  ] \n}\n')),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"tree view item, add the following to ",(0,o.kt)("inlineCode",{parentName:"li"},"contributes.menus.view/item/context"),"\n( ",(0,o.kt)("inlineCode",{parentName:"li"},"<VIEW_ID>")," is defined in ",(0,o.kt)("inlineCode",{parentName:"li"},"contributes.views.dbuxViewContainer")," section and ",(0,o.kt)("inlineCode",{parentName:"li"},"<NODE_CONTEXT_ID>")," is defined programmatically in ",(0,o.kt)("inlineCode",{parentName:"li"},"TreeItem.contextValue")," )")),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "view/item/context": [\n    {\n      "command": "<COMMAND_ID>",\n      "when": "view == <VIEW_ID> && viewItem == <NODE_CONTEXT_ID>",\n      "group": "inline"\n    }\n  ]\n}\n'))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Some more Notes:"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"You can sort buttons by adding suffix ",(0,o.kt)("inlineCode",{parentName:"li"},"@<number>")," to ",(0,o.kt)("inlineCode",{parentName:"li"},"group")," property. e.g. ",(0,o.kt)("inlineCode",{parentName:"li"},'"group": "inline@5"')),(0,o.kt)("li",{parentName:"ul"},"If you remove ",(0,o.kt)("inlineCode",{parentName:"li"},'"group": "navigation"'),", the button will be listed in a dropdown menu, see ",(0,o.kt)("a",{parentName:"li",href:"https://code.visualstudio.com/api/references/contribution-points#Sorting-of-groups"},"Sorting of groups")," for more information"),(0,o.kt)("li",{parentName:"ul"},"The ",(0,o.kt)("inlineCode",{parentName:"li"},"when")," property defines when should the button be visible, see ",(0,o.kt)("a",{parentName:"li",href:"https://code.visualstudio.com/docs/getstarted/keybindings#_when-clause-contexts"},"'when' clause contexts")," for more available condition")))),(0,o.kt)("h2",{id:"how-to-use-dbux-on-dbux"},"How to use Dbux on Dbux?"),(0,o.kt)("p",null,"TODO: we have not fully added support for this yet."))}k.isMDXComponent=!0},4184:function(e,t){var n;!function(){"use strict";var a={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var l=i.apply(null,n);l&&e.push(l)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var r in n)a.call(n,r)&&n[r]&&e.push(r);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},2705:function(e,t,n){var a=n(5639).Symbol;e.exports=a},4239:function(e,t,n){var a=n(2705),i=n(9607),o=n(2333),l=a?a.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":l&&l in Object(e)?i(e):o(e)}},1957:function(e,t,n){var a="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=a},9607:function(e,t,n){var a=n(2705),i=Object.prototype,o=i.hasOwnProperty,l=i.toString,r=a?a.toStringTag:void 0;e.exports=function(e){var t=o.call(e,r),n=e[r];try{e[r]=void 0;var a=!0}catch(d){}var i=l.call(e);return a&&(t?e[r]=n:delete e[r]),i}},2333:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5639:function(e,t,n){var a=n(1957),i="object"==typeof self&&self&&self.Object===Object&&self,o=a||i||Function("return this")();e.exports=o},1469:function(e){var t=Array.isArray;e.exports=t},7005:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},7037:function(e,t,n){var a=n(4239),i=n(1469),o=n(7005);e.exports=function(e){return"string"==typeof e||!i(e)&&o(e)&&"[object String]"==a(e)}}}]);