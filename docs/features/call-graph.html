<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.13">
<title data-react-helmet="true">Call Graph | Dbux</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://domiii.github.io/dbux/features/call-graph"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Call Graph | Dbux"><meta data-react-helmet="true" name="description" content="The call graph serves as a &quot;map of your runtime execution&quot;: it provides a bird&#x27;s eye overview of all file and function executions."><meta data-react-helmet="true" property="og:description" content="The call graph serves as a &quot;map of your runtime execution&quot;: it provides a bird&#x27;s eye overview of all file and function executions."><link data-react-helmet="true" rel="icon" href="/dbux/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://domiii.github.io/dbux/features/call-graph"><link data-react-helmet="true" rel="alternate" href="https://domiii.github.io/dbux/features/call-graph" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://domiii.github.io/dbux/features/call-graph" hreflang="x-default"><link rel="stylesheet" href="/dbux/assets/css/styles.03e08d32.css">
<link rel="preload" href="/dbux/assets/js/runtime~main.b32ac771.js" as="script">
<link rel="preload" href="/dbux/assets/js/main.32333d17.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/dbux/"><div class="navbar__logo"><img src="/dbux/dbux_icon.png" alt="Dbux Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/dbux/dbux_icon.png" alt="Dbux Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">Dbux</b></a></div><div class="navbar__items navbar__items--right"><a href="https://marketplace.visualstudio.com/items?itemName=Domi.dbux-code" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link nav-icon btn-dbux-marketplace"><span> <svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://discord.gg/QKgq9ZE" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link nav-icon btn-dbux-discord"><span> <svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://github.com/domiii/dbux" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleChecked_a04y toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">🌜</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">🌞</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" checked="" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/dbux/">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/dbux/installation">Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/dbux/why-dbux">Why Dbux?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/dbux/dbux-architecture">Dbux Architecture</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" href="/dbux/features">Dbux Features</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dbux/features">Using Dbux</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dbux/features/enable-dbux">Enable Dbux</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item run-button"><a class="menu__link" tabindex="0" href="/dbux/features/the-run-button">The Run Button</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item sidebar-code-decorations"><a class="menu__link" tabindex="0" href="/dbux/features/code-decorations">Code Decorations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dbux/features/applications">Application View</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item sidebar-select-trace"><a class="menu__link" tabindex="0" href="/dbux/features/select-trace">Select Trace</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dbux/features/trace-details">Trace Details View</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dbux/features/global">Global View</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item sidebar-call-graph"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/dbux/features/call-graph">Call Graph</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item sidebar-call-graph"><a class="menu__link" tabindex="0" href="/dbux/acg">ACG: Asynchronous Call Graph</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item sidebar-call-graph"><a class="menu__link" tabindex="0" href="/dbux/pdg">PDG: Program Dependency Graph</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item sidebar-search"><a class="menu__link" tabindex="0" href="/dbux/features/search">Search</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dbux/features/data-flow">Data Flow View</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/dbux/dbux-practice">Dbux Practice + Tutorials</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dbux/dbux-practice">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dbux/dbux-practice/tutorial">Tutorial</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/dbux/guides/runtime-trace-filtering">Guides</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dbux/guides/runtime-trace-filtering">Runtime Trace Filtering</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dbux/guides/performance">Performance</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dbux/guides/build-pipeline-integration">Build Pipeline Integration</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/dbux/tools-and-configuration">Tools and Configuration</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dbux/tools-and-configuration">Tools and Configuration Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dbux/tools-and-configuration/dbux-code">Dbux VSCode Extension</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dbux/tools-and-configuration/dbux-cli">Dbux CLI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dbux/tools-and-configuration/dbux-babel-plugin">Dbux Babel Plugin</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dbux/tools-and-configuration/dbux-runtime">Dbux Runtime</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/dbux/advanced/future-work">Advanced</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dbux/advanced/future-work">Known Limitations and Future Work</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dbux/advanced/contributing">Contributing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dbux/advanced/terminology">Terminology</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dbux/advanced/data-analysis">Dbux Data Analysis</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dbux/advanced/dbux-uses">Who is Using Dbux?</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/dbux/background">Background</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dbux/background">Background and Related Work</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dbux/background/debugging">Debugging</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/dbux/faq">FAQ</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_eoK2"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_e+kA"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Call Graph <img src="/dbux/dark/tree.svg" alt="tree.svg" title="tree.svg" width="56"></h1></header><div style="display:none"><div class="tableOfContentsInline_0DDH"><ul class="table-of-contents"><li><a href="#why-do-we-need-a-call-graph">Why do we need a Call Graph?</a></li><li><a href="#sync">Synchronous Call Graph</a></li><li><a href="#async">Asynchronous Call Graph</a></li><li><a href="#stack">Call Graph vs. Call Stack</a></li><li><a href="#acs-example1">Example 1: fibonacci graph vs. stack</a></li><li><a href="#acs-example2">Example 2: sequelize stack</a></li><li><a href="#toolbar">Toolbar</a><ul><li><a href="#syncasync-mode-toggle">Sync/Async Mode Toggle</a></li><li><a href="#detail">detail</a></li><li><a href="#stack">stack</a></li><li><a href="#loc">loc</a></li><li><a href="#call">call</a></li><li><a href="#val">val</a></li><li><a href="#thin-mode">thin mode</a></li><li><a href="#-search">🔍 search</a></li><li><a href="#follow">follow</a></li><li><a href="#pauseresumeclear">pause/resume/clear</a></li></ul></li><li><a href="#color-scheme">Call Graph Colors</a></li><li><a href="#call-graph-implementation-details">Call Graph Implementation Details</a></li></ul></div></div><p>The call graph serves as a &quot;map of your runtime execution&quot;: it provides a bird&#x27;s eye overview of all file and function executions.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="why-do-we-need-a-call-graph">Why do we need a Call Graph?<a aria-hidden="true" class="hash-link" href="#why-do-we-need-a-call-graph" title="Direct link to heading">​</a></h2><p>An interactive call graph allows investigating the control flow of your application. For example, it lets you:</p><ul><li>Identify all <a href="/dbux/acg#ae" title="lookup term: &quot;ae&quot;">asynchronous events<sup>❔</sup></a> and their connections.</li><li>Visualize <a href="#acs-example1">recursion trees</a>.</li><li>...and more...</li></ul><p>As an analogy, the call graph can be seen as a high-level &quot;Map&quot; while the <a href="#trace-details">trace details view</a> is a low-level &quot;Street View&quot; of our applications&#x27; execution. Together, they offer a multi-resolutional interactive tool to investigate control flow and many other aspects of runtime behavior.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="sync">Synchronous Call Graph<a aria-hidden="true" class="hash-link" href="#sync" title="Direct link to heading">​</a></h2><img class="border-screen img-crisp zoomable" src="/dbux/screens/dbux-all-longest-word.png" alt="screens/dbux-all-longest-word.png" title="screens/dbux-all-longest-word.png"><p>When investigating an application without any <a href="/dbux/acg#ae" title="lookup term: &quot;ae&quot;">asynchronous events<sup>❔</sup></a>, the call graph is best viewed in <code>Sync</code> mode.</p><p>The synchronous call graph has the following properties:</p><ul><li><strong>Roots</strong>: By default, the synchronous call graph shows a list of all root nodes (or &quot;<a href="/dbux/acg#cgr" title="lookup term: &quot;CGR&quot;">call graph roots<sup>❔</sup></a>&quot; or &quot;CGRs&quot;): the entry point of the application, as well as the starting point of any <a href="/dbux/acg#ae" title="lookup term: &quot;asynchronous event&quot;">asynchronous event<sup>❔</sup></a>, vertically sorted by time of recording (later is lower).</li><li><strong>Nodes</strong>: <a href="/dbux/acg#cgr" title="lookup term: &quot;CGR&quot;">CGRs<sup>❔</sup></a> can have children and entire <strong>subtrees</strong>. Each child node represents the execution of a file or function that was called by its parent node. Conventionally, each node is referred to as a &quot;stack frame&quot;, but we felt that that terminology is confusing in the context of the more general call graph. We usually refer to these nodes as <a href="/dbux/advanced/terminology#context" title="lookup term: &quot;context&quot;">contexts<sup>❔</sup></a> instead.</li><li><strong>Real-time</strong>: The call graph updates in real-time. A new <a href="/dbux/acg#cgr" title="lookup term: &quot;CGR&quot;">CGR<sup>❔</sup></a> is added to the graph, for each newly recorded asynchronous event.</li></ul><p>Non-empty nodes have two of three buttons to their left in order to expand and collapse children and/or entire subtrees.</p><div class="flex flex-col flex-center"><div style="display:inline-block;max-width:300px;line-height:0"><img class="border-screen img-crisp zoomable" src="/dbux/screens/call_graph_1_one_root.png" alt="screens/call_graph_1_one_root.png" title="screens/call_graph_1_one_root.png"></div><div class="font-size-3">↓</div><div class="mb-2" style="display:inline-block;max-width:400px;line-height:0"><img class="border-screen img-crisp zoomable" src="/dbux/screens/call_graph_2_expanded.png" alt="screens/call_graph_2_expanded.png" title="screens/call_graph_2_expanded.png"></div></div><p>Above screenshots: (1) the call graph has a single collapsed root. (2) The entire subtree is expanded.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="async">Asynchronous Call Graph<a aria-hidden="true" class="hash-link" href="#async" title="Direct link to heading">​</a></h2><p>In <code>Async</code> mode, the call graph becomes the <a href="/dbux/acg">asynchronous call graph</a> (short: ACG), which is explained on <a href="/dbux/acg">the next page</a>.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="stack">Call Graph vs. Call Stack<a aria-hidden="true" class="hash-link" href="#stack" title="Direct link to heading">​</a></h2><p>The <strong>call stack</strong> is the list of all stack frames at a current point in time. That means: all executed functions that have not yet concluded and are not currently suspended<sup><span class="cursor-help" title="e.g. by await or yield">?</span></sup>. While useful, the call stack only represents a small fraction of our application. In fact, the call stack can be defined as a slice of the call graph during its <a href="https://en.wikipedia.org/wiki/Depth-first_search" target="_blank" rel="noopener noreferrer">depth-first traversal</a>, at a specific point in time.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="acs-example1">Example 1: fibonacci graph vs. stack<a aria-hidden="true" class="hash-link" href="#acs-example1" title="Direct link to heading">​</a></h2><p>Example: The following screenshot shows call graph and stack of <code>fibonacci(6)</code>.</p><img class="border-screen img-crisp zoomable" src="/dbux/screens/sample-fibonacci-graph-vs-stack.png" alt="screens/sample-fibonacci-graph-vs-stack.png" title="screens/sample-fibonacci-graph-vs-stack.png"><ul><li>The stack is shown on the right.</li><li>The call graph (left) also reveals the (non-asynchronous) stack (nested toward the right). You can find all stack frames by going up the parents from the selected node in the graph.</li><li>In this recursive example, the call graph also serves as <a href="https://www.google.com/search?q=recursion+trees" target="_blank" rel="noopener noreferrer">recursion tree</a>.</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="acs-example2">Example 2: sequelize stack<a aria-hidden="true" class="hash-link" href="#acs-example2" title="Direct link to heading">​</a></h2><p>Lack of a proper asynchronous call stack (ACS) has been frequently lamented by developers<sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup>.
That is why Dbux offers a dedicated <strong>call stack view</strong>. In <a href="#acs-example1">Example 1</a>, the call stack can be relatively easily understood from the call graph view alone. But there are many scenarios where a dedicated call stack view is still necessary, especially in case of long-winded, asynchronous control flows.</p><p>For example, <a href="https://github.com/sequelize/sequelize/issues/8199" target="_blank" rel="noopener noreferrer">sequelize issue #8199</a> demonstrates how inadequate support for asynchronous execution in modern JavaScript engines and debuggers asynchronous execution is a real concern. If an error arises, the developer has no easy way of finding the sequelize call that caused it because the execution stack is missing asynchronous nodes. The Dbux call stack attempts to address that issue:</p><img class="border-screen img-crisp zoomable" src="/dbux/screens/sequelize-acs-full.png" alt="screens/sequelize-acs-full.png" title="screens/sequelize-acs-full.png"><p>Above screenshot shows the asynchronous call stack of an Error captured when executing sequelize&#x27;s <a href="https://sequelize.org/master/manual/model-querying-finders.html#-code-findorcreate--code-" target="_blank" rel="noopener noreferrer">findOrCreate</a>.
Note that the method called by the user <code>Model.findOrCreate</code> is prominently displayed near the top of the stack.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="toolbar">Toolbar<a aria-hidden="true" class="hash-link" href="#toolbar" title="Direct link to heading">​</a></h2><p>The toolbar allows changing how the call graph is displayed.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="syncasync-mode-toggle">Sync/Async Mode Toggle<a aria-hidden="true" class="hash-link" href="#syncasync-mode-toggle" title="Direct link to heading">​</a></h3><p>Toggles between <a href="#sync">Sync</a> and <a href="#async">Async</a> mode.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="detail">detail<a aria-hidden="true" class="hash-link" href="#detail" title="Direct link to heading">​</a></h3><p><strong>Async</strong>: In <code>async</code> mode, disabling <code>details</code> visually compacts the graph. This is used to better expose high-level patterns between <a href="/dbux/acg#cgr" title="lookup term: &quot;CGR&quot;">CGRs<sup>❔</sup></a>. One can better see the &quot;big picture&quot; by disabling <code>details</code> and then zooming out.</p><p><strong>Sync</strong>: <code>details</code> currently does nothing in <code>Sync</code> mode.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="stack">stack<a aria-hidden="true" class="hash-link" href="#stack" title="Direct link to heading">​</a></h3><p>Toggles the <a href="#stack">asynchronous stack</a>.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="loc">loc<a aria-hidden="true" class="hash-link" href="#loc" title="Direct link to heading">​</a></h3><p>Show/hide locations in context nodes.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="call">call<a aria-hidden="true" class="hash-link" href="#call" title="Direct link to heading">​</a></h3><p><strong>Sync</strong>: Show/hide caller traces of all contexts that are function invocations. This allows to quickly understand how a context node (&quot;stack frame&quot;) was called.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="val">val<a aria-hidden="true" class="hash-link" href="#val" title="Direct link to heading">​</a></h3><p>Show/hide <code>value</code> in context nodes.</p><p><strong>Sync</strong>: In synchronous mode, it shows <code>(arguments) -&gt; returnValue</code> of the context&#x27;s call expression.</p><p><strong>Async</strong>: In asynchronous mode, it shows the value of the first trace of the currently selected trace in each root. Among other uses, this allows you identifying the roots that executed the selected trace&#x27;s code and what the value of that root was. This in turn can be used to better understand the main purpose of different roots, if the right trace is selected. (TODO: examples)</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="thin-mode">thin mode<a aria-hidden="true" class="hash-link" href="#thin-mode" title="Direct link to heading">​</a></h3><p><strong>Sync</strong>: Enable to render a horizontally more compact graph.</p><p><strong>Async</strong>: Does not do anything in async mode currently.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="-search">🔍 search<a aria-hidden="true" class="hash-link" href="#-search" title="Direct link to heading">​</a></h3><p>→<!-- --> See <a href="/dbux/features/search">the search section</a> for more information.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="follow">follow<a aria-hidden="true" class="hash-link" href="#follow" title="Direct link to heading">​</a></h3><p>When <code>follow</code> mode is activated, the call graph always zooms in on the call graph node of the currently <a href="/dbux/features/select-trace">selected trace</a>.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="pauseresumeclear">pause/resume/clear<a aria-hidden="true" class="hash-link" href="#pauseresumeclear" title="Direct link to heading">​</a></h3><p>These features let you isolate the part of the call graph responsible for executing specific events (such as clicking a buggy button), while removing (hiding) all kinds of unrelated clutter.</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="-pauseresume"><span class="color-red">🔴</span> pause/resume<a aria-hidden="true" class="hash-link" href="#-pauseresume" title="Direct link to heading">​</a></h4><p>Use the 🔴 button to pause/resume the rendering of new incoming data, so we can focus on what we already have.
This is useful to prevent cluttering the call graph with events that get recorded once we have recorded the bug (or other event of interest).</p><p>For example, when investigating a bug that happens after pressing some button (a &quot;buggy button&quot; if you will) in your application, you can:</p><ol><li>Wait for the application to finish initialization and for the &quot;buggy button&quot; to show up.</li><li>Press <code>x</code>.</li><li>Press a buggy button.</li><li>(if necessary) Wait until the bug occurs.</li><li>Press 🔴 (pause).</li></ol><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>You might be tempted into thinking that pausing with this button will stop all recording, however that is not what happens. Currently, Dbux keeps on recording for as long as the application is running. This button only hides that new data behind a single &quot;Hidden Node&quot;. That inability to completely pause recording, can make things very slow and thus make debugging of games and other kinds of high performance applications very difficult. <a href="https://github.com/Domiii/dbux/tree/master/#performance" target="_blank" rel="noopener noreferrer">You can read more about performance considerations here</a>.</p></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="x-clear-showhide-already-recorded-traces"><code>x</code> Clear (show/hide already recorded traces)<a aria-hidden="true" class="hash-link" href="#x-clear-showhide-already-recorded-traces" title="Direct link to heading">​</a></h4><p>The clear button (<code>x</code>) is useful for removing clutter when investigating a bug that does not appear immediately, or is not part of the initialization routine.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="color-scheme">Call Graph Colors<a aria-hidden="true" class="hash-link" href="#color-scheme" title="Direct link to heading">​</a></h2><p>Node colors are assigned pseudo-randomly. Same color means same <a href="/dbux/advanced/terminology#staticContext" title="lookup term: &quot;staticContext&quot;">staticContext<sup>❔</sup></a> (same function/file).</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="call-graph-implementation-details">Call Graph Implementation Details<a aria-hidden="true" class="hash-link" href="#call-graph-implementation-details" title="Direct link to heading">​</a></h2><p>A few more notes on the Call Graph GUI implementation:</p><ul><li>The Call Graph is implemented as a <a href="https://code.visualstudio.com/api/extension-guides/webview" target="_blank" rel="noopener noreferrer">VSCode WebView</a>.<ul><li>Inside of <code>dbux-code</code>, the graph is defined in <a title="dbux-code/src/webViews/graphWebView.js" href="https://github.com/Domiii/dbux/tree/master/dbux-code/src/webViews/graphWebView.js">dbux-code/src/webViews/graphWebView.js</a></li></ul></li><li>The Call Graph consists of three modules:<ul><li><a title="@dbux/graph-common" href="https://github.com/Domiii/dbux/tree/master/dbux-graph-common">@dbux/graph-common</a></li><li><a title="@dbux/graph-client" href="https://github.com/Domiii/dbux/tree/master/dbux-graph-client">@dbux/graph-client</a></li><li><a title="@dbux/graph-host" href="https://github.com/Domiii/dbux/tree/master/dbux-graph-host">@dbux/graph-host</a></li></ul></li><li>Client and host are running in separate runtimes. They share the <code>graph-common</code> module.<ul><li>For a better call graph experience, we developed an IPC-first component system to easily render things on the client, while allowing us to control it from the host. Its implementation can be found in the three modules&#x27; <code>src/componentLib</code> folders.</li><li>Theoretically, the client can also be rendered independent of VSCode, on a website, in an iframe etc.<ul><li><code>client</code> and <code>host</code> communicate via a <code>IpcAdapter</code> which must provide two functions (whose implementation depends on the environment that they run in): <code>onMessage</code> and <code>postMessage</code>.</li><li>The custom client would require its own <code>IpcAdapter</code> implementation. <code>dbux-code</code>&#x27;s can be found in <a title="dbux-code/src/codeUtil/WebviewWrapper.js" href="https://github.com/Domiii/dbux/tree/master/dbux-code/src/codeUtil/WebviewWrapper.js">dbux-code/src/codeUtil/WebviewWrapper.js</a>.</li></ul></li></ul></li></ul><div class="footnotes"><hr><ol><li id="fn-1"><a href="https://github.com/nodejs/node/issues/36126" target="_blank" rel="noopener noreferrer">GitHub Issue: Incomplete async stack traces in Node.js</a><a href="#fnref-1" class="footnote-backref">↩</a></li></ol></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/Domiii/dbux/blob/master/docs/content/features/10-call-graph.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/dbux/features/global"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« <!-- -->Global View</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/dbux/acg"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">ACG: Asynchronous Call Graph<!-- --> »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#why-do-we-need-a-call-graph" class="table-of-contents__link toc-highlight">Why do we need a Call Graph?</a></li><li><a href="#sync" class="table-of-contents__link toc-highlight">Synchronous Call Graph</a></li><li><a href="#async" class="table-of-contents__link toc-highlight">Asynchronous Call Graph</a></li><li><a href="#stack" class="table-of-contents__link toc-highlight">Call Graph vs. Call Stack</a></li><li><a href="#acs-example1" class="table-of-contents__link toc-highlight">Example 1: fibonacci graph vs. stack</a></li><li><a href="#acs-example2" class="table-of-contents__link toc-highlight">Example 2: sequelize stack</a></li><li><a href="#toolbar" class="table-of-contents__link toc-highlight">Toolbar</a><ul><li><a href="#syncasync-mode-toggle" class="table-of-contents__link toc-highlight">Sync/Async Mode Toggle</a></li><li><a href="#detail" class="table-of-contents__link toc-highlight">detail</a></li><li><a href="#stack" class="table-of-contents__link toc-highlight">stack</a></li><li><a href="#loc" class="table-of-contents__link toc-highlight">loc</a></li><li><a href="#call" class="table-of-contents__link toc-highlight">call</a></li><li><a href="#val" class="table-of-contents__link toc-highlight">val</a></li><li><a href="#thin-mode" class="table-of-contents__link toc-highlight">thin mode</a></li><li><a href="#-search" class="table-of-contents__link toc-highlight">🔍 search</a></li><li><a href="#follow" class="table-of-contents__link toc-highlight">follow</a></li><li><a href="#pauseresumeclear" class="table-of-contents__link toc-highlight">pause/resume/clear</a></li></ul></li><li><a href="#color-scheme" class="table-of-contents__link toc-highlight">Call Graph Colors</a></li><li><a href="#call-graph-implementation-details" class="table-of-contents__link toc-highlight">Call Graph Implementation Details</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/dbux" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://discord.gg/QKgq9ZE" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/domiii/dbux" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Dbux.</div></div></div></footer></div>
<script src="/dbux/assets/js/runtime~main.b32ac771.js"></script>
<script src="/dbux/assets/js/main.32333d17.js"></script>
</body>
</html>